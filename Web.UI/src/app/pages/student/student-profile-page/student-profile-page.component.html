@if (isLoading) {
  <app-loading-spinner></app-loading-spinner>
} @else {
  <div class=" m-4 justify-content-start">
    <div class="card p-4 border border-1 rounded-4">
      <!-- Header Section -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h5 class="fw-bold mb-0">Personal Information</h5>
        @if (canEdit) {
          <button
            class="btn btn-outline-dark btn-sm d-flex align-items-center"
            (click)="toggleEdit()">
            <i class="bi bi-pencil me-2"></i>
            {{ editing ? 'Save' : 'Edit' }}
          </button>

        }
      </div>

      <!-- Information Rows -->
      <div class="row g-3">
        <!-- First Name Field -->
        <div class="col-md-6">
          <label class="form-label text-muted" for="firstName">First Name</label>
          <input
            id="firstName"
            class="form-control w-50"
            [(ngModel)]="student.firstName"
            [disabled]="!editing"
            placeholder="Enter first name"
          />
        </div>

        <!-- Last Name Field -->
        <div class="col-md-6">
          <label class="form-label text-muted" for="lastName">Last Name</label>
          <input
            id="lastName"
            class="form-control w-50"
            [(ngModel)]="student.lastName"
            [disabled]="!editing"
            placeholder="Enter last name"
          />
        </div>
        <!-- Email Address Field -->
        <div class="col-md-6">
          <label class="form-label text-muted" for="email">Email Address</label>
          <input
            id="email"
            type="email"
            class="form-control w-75"
            [(ngModel)]="student.email"
            [disabled]="true"
            placeholder="Enter email address"
          />
        </div>
      </div>
    </div>
    <!--    <h2 class="my-4">Past Exams</h2>-->
    <div class="card p-4 mt-2 border border-1 rounded-4">
      <h5 class="fw-bold mb-4">Past Exams</h5>

      <app-exam-results-table [examResults]="student.examResults"></app-exam-results-table>
      @if (student.examResults.length === 0) {
        <div class="container m-2 text-center">
          <p class="text-muted m-0">No Data</p>
        </div>
      }
    </div>
  </div>
}
